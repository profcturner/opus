#!/bin/sh -e
# Attempt at debconf for OPUS

# Source debconf library.
. /usr/share/debconf/confmodule

# Ask for the fully qualified hostname
db_input high opus/fq_hostname || true

# Ask for the institution
db_input high opus/institution || true

# Ask about the database
db_input high opus/have_root_password || true
db_input high opus/nuke_db_on_purge || true

# Did they say they had a root password?
db_get opus/have_root_password
if [ "$RET" = "yes" ]
then
  # Yes, so ask them for it!
  db_input high opus/root_db_password || true
fi

# Ask for the database credentials
db_input high opus/db_hostname || true
db_input high opus/db_database || true
db_input high opus/db_username || true
db_input high opus/db_password || true

# Ask for the details of the first user
db_beginblock
db_input high opus/proot_title || true
db_input high opus/proot_firstname || true
db_input high opus/proot_surname || true
db_input high opus/proot_position || true
db_input high opus/proot_email || true
db_endblock

db_go
